<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MP. Legal Company - Enlaces</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Cinzel, Playfair Display, Merriweather -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,300&family=Playfair+Display:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Markdown Parser for AI responses -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        :root {
            --gold-primary: #D4AF37;
            --gold-light: #F1D676;
            --gold-dark: #AA8C2C;
            --black-bg: #080808; 
            --card-bg: rgba(20, 20, 20, 0.7);
        }

        /* Tipografía Base (Merriweather) */
        body {
            font-family: 'Merriweather', serif;
            background-color: var(--black-bg);
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Títulos (Cinzel) */
        .font-title {
            font-family: 'Cinzel', serif;
        }

        /* Subtítulos (Playfair Display) */
        .font-subtitle {
            font-family: 'Playfair Display', serif;
        }

        /* Fondo Animado (Panning) */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background-image: 
                radial-gradient(circle at center, rgba(212, 175, 55, 0.10) 1.5px, transparent 1.5px),
                radial-gradient(circle at center, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 50px 50px, 25px 25px;
            background-position: 0 0, 12px 12px;
            z-index: -1;
            animation: panBackground 80s linear infinite;
            will-change: transform;
        }

        @keyframes panBackground {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-5%, -5%); }
        }

        /* Botones Estilo Firma Legal */
        .legal-button {
            background: rgba(10, 10, 10, 0.6);
            border: 1px solid rgba(212, 175, 55, 0.4);
            backdrop-filter: blur(8px);
            transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .legal-button:hover {
            background: linear-gradient(95deg, var(--gold-dark) 0%, var(--gold-primary) 100%);
            border-color: var(--gold-light);
            color: #050505; 
            transform: translateY(-2px);
            box-shadow: 0 8px 25px -5px rgba(212, 175, 55, 0.3);
        }

        .legal-button:hover .icon-box {
            color: #050505;
        }
        
        /* Botón AI especial */
        .ai-button {
            background: rgba(20, 20, 20, 0.8);
            border: 1px solid var(--gold-light);
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.15);
        }
        
        .ai-button:hover {
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.5);
            background: linear-gradient(95deg, #FFFDE7 0%, var(--gold-light) 100%);
        }

        /* Efecto de brillo sutil */
        .legal-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -75%;
            z-index: 2;
            display: block;
            content: '';
            width: 50%;
            height: 100%;
            background: linear-gradient(to right, rgba(255,255,255,0) 0%, rgba(255,255,255,0.15) 100%);
            transform: skewX(-25deg);
            transition: 0.5s;
            opacity: 0;
        }
        
        .legal-button:hover::before {
            opacity: 1;
            left: 125%;
            transition: 0.7s;
        }

        /* Imagen de perfil */
        .profile-container {
            position: relative;
            padding: 4px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--gold-dark), var(--gold-light));
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.15);
        }
        
        .profile-img {
            display: block;
            border-radius: 50%;
            border: 4px solid #080808; 
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content {
            background: #111;
            border: 1px solid var(--gold-primary);
            width: 90%;
            max-width: 500px;
            border-radius: 12px;
            padding: 24px;
            position: relative;
            transform: translateY(20px);
            transition: transform 0.3s ease;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5), 0 0 30px rgba(212, 175, 55, 0.1);
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }

        .loading-dots:after {
            content: '.';
            animation: dots 1.5s steps(5, end) infinite;
        }
        @keyframes dots {
            0%, 20% { content: '.'; }
            40% { content: '..'; }
            60% { content: '...'; }
            80%, 100% { content: ''; }
        }

        /* Markdown Styles inside Modal */
        .prose strong { color: var(--gold-light); font-weight: 700; }
        .prose p { margin-bottom: 0.8em; font-size: 0.95rem; line-height: 1.6; }
        .prose ul { list-style-type: disc; padding-left: 1.2em; margin-bottom: 0.8em; }

    </style>
</head>
<body class="flex flex-col items-center justify-center min-h-screen p-6 relative">

    <!-- Fondo con efecto de paneo -->
    <div id="panning-bg" class="bg-pattern"></div>

    <!-- Contenedor Principal -->
    <main class="w-full max-w-md z-10 text-center space-y-9">
        
        <!-- Header -->
        <header class="flex flex-col items-center space-y-5">
            <!-- Logo -->
            <div class="profile-container group cursor-pointer transition-transform duration-500 hover:scale-105">
                <img 
                    src="Foto%20de%20perfil.jpg" 
                    alt="MP Legal Company Logo" 
                    class="profile-img w-36 h-36 object-cover"
                    onerror="this.src='https://placehold.co/150x150/080808/D4AF37?text=MP'; this.onerror=null;"
                >
            </div>

            <!-- Título y Descripción -->
            <div class="space-y-3">
                <h1 class="font-title text-3xl md:text-4xl text-[#D4AF37] font-bold tracking-wider drop-shadow-md">
                    MP. Legal Company
                </h1>

                <div class="w-24 h-0.5 bg-gradient-to-r from-transparent via-[#AA8C2C] to-transparent mx-auto"></div>

                <div class="text-gray-200 px-4">
                    <p class="font-subtitle text-lg md:text-xl italic text-[#F1D676] mb-2 tracking-wide">
                        "Justicia y respaldo a tu alcance"
                    </p>
                    <p class="font-body text-sm md:text-base text-gray-400 font-light flex items-center justify-center gap-2">
                        <span class="text-[#D4AF37] text-lg">⚖️</span> Especialistas en derecho
                    </p>
                </div>
            </div>
        </header>

        <!-- Lista de Botones -->
        <nav class="flex flex-col space-y-4 w-full px-2">
            
            <!-- Botón IA (NUEVO) -->
            <div onclick="openModal()" class="legal-button ai-button w-full py-4 px-6 rounded-sm flex items-center group relative overflow-hidden">
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent translate-x-[-100%] animate-[shimmer_2s_infinite]"></div>
                <div class="icon-box text-2xl w-8 text-[#D4AF37] transition-colors duration-300 flex justify-center">
                    <i class="fa-solid fa-scale-balanced"></i>
                </div>
                <span class="flex-1 text-center font-body font-bold text-base tracking-widest uppercase flex flex-col leading-tight">
                    <span>Consultor IA ✨</span>
                    <span class="text-[9px] normal-case opacity-80 tracking-normal font-light">Pregunta rápida a nuestra Inteligencia Artificial</span>
                </span>
                <div class="w-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm">
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </div>

            <!-- WhatsApp -->
            <a href="https://wa.link/nehs9l" target="_blank" rel="noopener noreferrer" class="legal-button w-full py-4 px-6 rounded-sm flex items-center group">
                <div class="icon-box text-2xl w-8 text-[#D4AF37] transition-colors duration-300 flex justify-center">
                    <i class="fa-brands fa-whatsapp"></i>
                </div>
                <span class="flex-1 text-center font-body font-bold text-base tracking-widest uppercase">WhatsApp</span>
                <div class="w-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm">
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </a>

            <!-- TikTok -->
            <a href="https://www.tiktok.com/@mp.legalcompany" target="_blank" rel="noopener noreferrer" class="legal-button w-full py-4 px-6 rounded-sm flex items-center group">
                <div class="icon-box text-2xl w-8 text-[#D4AF37] transition-colors duration-300 flex justify-center">
                    <i class="fa-brands fa-tiktok"></i>
                </div>
                <span class="flex-1 text-center font-body font-bold text-base tracking-widest uppercase">TikTok</span>
                <div class="w-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm">
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </a>

            <!-- Facebook -->
            <a href="https://www.facebook.com/share/17qag1ro6L/" target="_blank" rel="noopener noreferrer" class="legal-button w-full py-4 px-6 rounded-sm flex items-center group">
                <div class="icon-box text-2xl w-8 text-[#D4AF37] transition-colors duration-300 flex justify-center">
                    <i class="fa-brands fa-facebook-f"></i>
                </div>
                <span class="flex-1 text-center font-body font-bold text-base tracking-widest uppercase">Facebook</span>
                <div class="w-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm">
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </a>

            <!-- Instagram -->
            <a href="https://www.instagram.com/mp.legalcompany" target="_blank" rel="noopener noreferrer" class="legal-button w-full py-4 px-6 rounded-sm flex items-center group">
                <div class="icon-box text-2xl w-8 text-[#D4AF37] transition-colors duration-300 flex justify-center">
                    <i class="fa-brands fa-instagram"></i>
                </div>
                <span class="flex-1 text-center font-body font-bold text-base tracking-widest uppercase">Instagram</span>
                <div class="w-8 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm">
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
            </a>

        </nav>

        <!-- Footer -->
        <footer class="mt-16 border-t border-gray-800 pt-6">
            <p class="font-body text-[#555] text-xs tracking-wider">
                &copy; 2024 MP. LEGAL COMPANY<br>
                <span class="text-[10px] mt-1 block opacity-70">Excelencia Jurídica</span>
            </p>
        </footer>

    </main>

    <!-- AI Consultation Modal -->
    <div id="aiModal" class="modal-overlay">
        <div class="modal-content border border-[#AA8C2C]">
            <!-- Header Modal -->
            <div class="flex justify-between items-center mb-4 border-b border-gray-800 pb-3">
                <h3 class="font-title text-xl text-[#D4AF37]">Consulta Express IA</h3>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white transition-colors">
                    <i class="fa-solid fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Body Modal -->
            <div class="mb-4">
                <p class="text-sm text-gray-400 mb-3 font-body">Describe tu situación brevemente. Nuestra IA te orientará antes de hablar con un abogado.</p>
                <textarea id="userQuery" rows="3" 
                    class="w-full bg-[#050505] border border-gray-700 rounded-md p-3 text-white focus:border-[#D4AF37] focus:outline-none transition-colors font-body text-sm"
                    placeholder="Ej: Necesito revisar un contrato de arrendamiento..."></textarea>
            </div>

            <!-- Response Area -->
            <div id="aiResponseContainer" class="hidden mb-4 p-3 bg-gray-900/50 rounded border border-gray-800 max-h-48 overflow-y-auto text-sm text-gray-200 font-body prose">
                <!-- Response will be injected here -->
            </div>

            <!-- Disclaimer -->
            <p class="text-[10px] text-gray-600 mb-4 text-center italic">
                *Esta respuesta es generada por IA con fines informativos y no constituye asesoramiento legal vinculante.
            </p>

            <!-- Actions -->
            <div class="flex gap-2 justify-end">
                <button onclick="closeModal()" class="px-4 py-2 text-xs text-gray-400 hover:text-white font-body">Cerrar</button>
                <button onclick="askGemini()" id="consultBtn" class="px-5 py-2 bg-gradient-to-r from-[#AA8C2C] to-[#D4AF37] text-black font-bold rounded text-xs hover:shadow-lg hover:brightness-110 transition-all font-body">
                    CONSULTAR
                </button>
            </div>
        </div>
    </div>

    <!-- Script para efecto Paralaje y Logica IA -->
    <script>
        // Efecto Paralaje
        document.addEventListener('scroll', function() {
            const scrollPosition = window.scrollY;
            const bg = document.getElementById('panning-bg');
            bg.style.transform = `translateY(${scrollPosition * 0.15}px)`;
        });

        // Modal Logic
        const modal = document.getElementById('aiModal');
        const queryInput = document.getElementById('userQuery');
        const responseContainer = document.getElementById('aiResponseContainer');
        const consultBtn = document.getElementById('consultBtn');

        function openModal() {
            modal.classList.add('active');
            queryInput.focus();
        }

        function closeModal() {
            modal.classList.remove('active');
            // Optional: clear input on close? No, better to keep context if accidental close.
        }

        // Close on click outside
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        // Gemini API Interaction
        async function askGemini() {
            const query = queryInput.value.trim();
            if (!query) return;

            // UI State: Loading
            consultBtn.disabled = true;
            consultBtn.innerHTML = 'ANALIZANDO<span class="loading-dots"></span>';
            responseContainer.innerHTML = '';
            responseContainer.classList.add('hidden');

            try {
                // SYSTEM PROMPT: Define la personalidad del abogado IA
                const systemPrompt = `
                    Eres el asistente virtual inteligente de "MP. Legal Company", una firma de abogados de prestigio.
                    Tu tono es: Profesional, empático, claro y breve (máximo 3 párrafos cortos).
                    
                    Tus instrucciones:
                    1. Analiza la consulta legal del usuario.
                    2. Explica brevemente los conceptos legales generales aplicables (basado en derecho general/latinoamericano).
                    3. NO des un veredicto final ni garantices resultados.
                    4. MUY IMPORTANTE: Termina SIEMPRE tu respuesta invitando al usuario a hacer clic en el botón de WhatsApp de esta página para agendar una cita real.
                    
                    Formato: Usa negritas para palabras clave.
                `;

                const response = await fetch('https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: query }]
                        }],
                        systemInstruction: {
                            parts: [{ text: systemPrompt }]
                        }
                    })
                });

                if (!response.ok) throw new Error('Error en la conexión con la IA');

                const data = await response.json();
                const aiText = data.candidates[0].content.parts[0].text;

                // Render Markdown Response
                responseContainer.innerHTML = marked.parse(aiText);
                responseContainer.classList.remove('hidden');

            } catch (error) {
                console.error(error);
                responseContainer.innerHTML = '<p class="text-red-400">Lo sentimos, hubo un error al procesar tu consulta. Por favor intenta de nuevo o contáctanos directamente por WhatsApp.</p>';
                responseContainer.classList.remove('hidden');
            } finally {
                // Restore Button
                consultBtn.disabled = false;
                consultBtn.innerText = 'CONSULTAR';
            }
        }
    </script>
</body>
</html>